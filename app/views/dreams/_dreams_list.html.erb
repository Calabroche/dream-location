<div class="b-box" data-controller="dreams">
  <div class="card-for-img-and-mapbox">
    <% @dreams.each do |dream| %>
    <div class="div-card" data-action="mouseenter->dreams#onCard" data-id="<%= dream.id %>">
      <%= image_tag dream.img_url_one, class: 'image' %>

      <%= button_to "J'aime", method: :post, remote: true, class: "btn btn-primary" %>

      <div class="spot-heart">
        <input id="heart" type="checkbox" />
        <label for="heart"><i class="fa-solid fa-heart"></i></label>
      </div>

      <p><%= @like.count %> <%= (@like.count) == 1 ? 'Like' : 'Likes'%></p>

      <h5><%= dream.name %></h5>
      <div class="dream-dreamd-actions">
        <%= link_to "Plus d'informations", dream_path(dream) %>
      </div>
    </div>
    <% end %>
  </div>

<% if @dreams.any? %>
  <div class="index-map">
    <div style="width: 450px; height: 100vh"
      data-controller="map"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"
      data-map-markers-value="<%= @markers.to_json %>"
      data-action="point->map#popup"
      data-dreams-target="map">
    </div>
  </div>
<% end %>
